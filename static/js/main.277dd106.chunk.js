(this.webpackJsonpcollab3d=this.webpackJsonpcollab3d||[]).push([[0],{29:function(e,t,n){e.exports=n(51)},37:function(e,t,n){},38:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var a=n(3),o=n(19),i=n(4),r=n(5),c=n(1),l=n.n(c),u=n(9),m=n.n(u),s=n(0),d=n(22),p=n(8),b=n(23);function f(){var e=Object(p.d)(b.a,"models/gltf/microphone/scene.gltf");return l.a.createElement("primitive",{object:e.scene,position:[0,0,0]})}function O(e){var t=e.cameraPosition,n=e.onUpdate,o=e.setOrbitControls,u=Object(i.a)(e,["cameraPosition","onUpdate","setOrbitControls"]),m=Object(c.useState)(!0),s=Object(a.a)(m,2),d=s[0],b=s[1],f=Object(p.e)(),O=f.camera,h=f.gl.domElement,j=Object(c.useRef)();return Object(p.c)((function(e){var a,i,c=e.camera;(d&&(o(j.current),b(!1)),t)&&((a=c.position).set.apply(a,Object(r.a)(t.position)),c.lookAt(0,0,0),(i=j.current.target).set.apply(i,Object(r.a)(t.focus)),j.current.update(),n())})),l.a.createElement("orbitControls",Object.assign({ref:j,args:[O,h]},u))}function h(e){var t=e.cameraPosition,n=e.onUpdate,a=e.setCamera,o=e.setOrbitControls,r=Object(i.a)(e,["cameraPosition","onUpdate","setCamera","setOrbitControls"]);return l.a.createElement(p.a,Object.assign({camera:{fov:60,near:1,position:[-2,0,-3]},gl:{outputEncoding:s.sRGBEncoding},onCreated:function(e){var t=e.gl,n=e.scene,o=e.camera;t.outputEncoding=s.sRGBEncoding,n.background=new s.Color(16448250),o.lookAt(0,0,0),a(o)}},r),l.a.createElement(O,{cameraPosition:t,onUpdate:n,setOrbitControls:o,minDistance:1,maxDistance:50}),l.a.createElement("pointLight",{position:[10,10,10]}),l.a.createElement("pointLight",{position:[-10,-10,-10]}),l.a.createElement(c.Suspense,{fallback:null},l.a.createElement(f,null)))}Object(p.b)({OrbitControls:d.a});n(36),n(37);var j=n(6),v=n(28),E=n(12),g=n(10),C=n(11),y=(n(38),function(e){function t(){return Object(j.a)(this,t),Object(E.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,"I am a top bar. please fix me")}}]),t}(l.a.Component)),S=n(18),N=n.n(S);n(46);function R(e){var t=e.selected,n=e.white,a=e.author,o=e.comment,r=e.profileColor,c=e.thread,u=e.onDelete,m=e.onReply,s=e.showReply,d=void 0===s||s,p=Object(i.a)(e,["selected","white","author","comment","profileColor","thread","onDelete","onReply","showReply"]);return l.a.createElement("div",{className:"wrapper"},l.a.createElement("div",{className:t?"selected-bar":""}),l.a.createElement("div",Object.assign({className:"note"+(n?" white":"")},p),l.a.createElement("div",{className:"content-row"},l.a.createElement("div",{className:"profile-image",style:{backgroundColor:r}}),l.a.createElement("div",{className:"content-column"},l.a.createElement("div",{className:"author-row"},l.a.createElement("div",{className:"author-name"},a),l.a.createElement("i",{className:"close-button material-icons",onClick:function(e){e.stopPropagation(),u()}},"close")),l.a.createElement("div",{className:"comment"},o),p.children,d?l.a.createElement("div",{className:"reply"},l.a.createElement("span",{className:"reply-button",onClick:function(e){e.stopPropagation(),m()}},function(e){return e&&e.length>0?e.length>1?"".concat(e.length," Replies"):"1 Reply":"Reply"}(c))):null))))}n(47);function k(e){var t=e.isModalOpen,n=e.onCancel,a=e.onDelete,o=Object(i.a)(e,["isModalOpen","onCancel","onDelete"]);return l.a.createElement("div",{id:"modal",className:t?"":"hide",onClick:n},l.a.createElement("div",Object.assign({id:"modal-dialog",onClick:function(e){return e.stopPropagation()}},o),l.a.createElement("span",{id:"modal-warning"},"Are you sure you want to delete?"),l.a.createElement("div",{id:"modal-actions"},l.a.createElement("span",{id:"modal-cancel",onClick:function(e){e.stopPropagation(),n()}},"Cancel"),l.a.createElement("span",{id:"modal-delete",onClick:function(e){e.stopPropagation(),a()}},"Delete"))))}n(48);function w(e){var t=e.notes,n=e.onSubmitComment,o=e.onSelect,r=e.onDeleteNote,u=e.onReplyNote,m=Object(i.a)(e,["notes","onSubmitComment","onSelect","onDeleteNote","onReplyNote"]),s=Object(c.useState)(null),d=Object(a.a)(s,2),p=d[0],b=d[1],f=Object(c.useState)(null),O=Object(a.a)(f,2),h=O[0],j=O[1],v=Object(c.useState)(void 0),E=Object(a.a)(v,2),g=E[0],C=E[1];return l.a.createElement("div",Object.assign({id:"notes-column"},m),l.a.createElement("div",{id:"input-column"},l.a.createElement("span",{id:"input-label"},"Comments"),l.a.createElement(N.a,{id:"input-comment",placeholder:"Add a comment",value:g,onChange:function(e){return C(e.target.value)}}),l.a.createElement("div",{id:"input-actions"},l.a.createElement("span",{id:"input-cancel",onClick:function(){return C("")}},"Cancel"),l.a.createElement("span",{id:"input-submit",onClick:function(){n(g),C("")}},"Submit"))),t.map((function(e,t){var n=e.id,a=e.camera,r=Object(i.a)(e,["id","camera"]);return l.a.createElement(R,Object.assign({key:n,selected:n===p,white:t%2===1,onClick:function(){p===n?b(null):(o(a),b(n))},onDelete:function(){return j(n)},onReply:function(e){return u(n,e)}},r))})),l.a.createElement(k,{isModalOpen:h,onCancel:function(){return j(null)},onDelete:function(){r(h),j(null)}}))}n(49),n(50);function q(e){var t=e.note,n=e.onReturn,o=e.onSubmitReply,r=e.onDeleteNote,u=Object(i.a)(e,["note","onReturn","onSubmitReply","onDeleteNote"]),m=Object(c.useState)(void 0),s=Object(a.a)(m,2),d=s[0],p=s[1],b=Object(c.useState)(null),f=Object(a.a)(b,2),O=f[0],h=f[1];return l.a.createElement("div",Object.assign({id:"thread-column"},u),l.a.createElement("div",{id:"back-to-comments-row",onClick:n},l.a.createElement("i",{className:"material-icons"},"chevron_left"),l.a.createElement("span",{id:"back-to-comments"},"Back to comments")),l.a.createElement(R,Object.assign({selected:!0,onDelete:function(){return h(t.id)},showReply:!1},t),l.a.createElement(N.a,{id:"reply-comment",placeholder:"Add a reply",value:d,onChange:function(e){return p(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),o(t.id,d),p(""))}})),t&&t.thread.map((function(e){return l.a.createElement(R,Object.assign({key:e.id,white:!0,onDelete:function(){return h(e.id)},showReply:!1},e))})),l.a.createElement(k,{isModalOpen:O,onCancel:function(){return h(null)},onDelete:function(){r(O),h(null)}}))}function D(e){var t=e.notes,n=e.onSelect,o=e.onSubmitComment,r=e.onSubmitReply,u=Object(i.a)(e,["notes","onSelect","onSubmitComment","onSubmitReply"]),m=Object(c.useState)(null),s=Object(a.a)(m,2),d=s[0],p=s[1],b=Object(c.useState)(null),f=Object(a.a)(b,2),O=f[0],h=f[1];return void 0===t.find((function(e){return e.id===d}))&&p(null),l.a.createElement("div",{id:"notes-row"},l.a.createElement(w,Object.assign({className:"main-thread"+(d?" main-thread-inactive":""),notes:t,onSelect:n,onSubmitComment:o,onReplyNote:function(e){n(t.find((function(t){return t.id===e})).camera),p(e),h(e)}},u)),l.a.createElement(q,Object.assign({className:"active-thread"+(d?"":" active-thread-inactive"),note:t.find((function(e){return e.id===O})),onReturn:function(){return p(null)},onSubmitReply:r},u)))}var P=[{id:1,camera:{position:[.5,2,3],focus:[0,0,0]},profileColor:"#c4c4c4",author:"Name of person #1",comment:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip.",thread:[{id:5,profileColor:"#c4c4c4",author:"Name of person #2",comment:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip."},{id:6,profileColor:"#c4c4c4",author:"Name of person #2",comment:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip."}]},{id:2,camera:{position:[2,3,.5],focus:[0,0,0]},profileColor:"#c4c4c4",author:"Name of person #2",comment:"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",thread:[]},{id:3,camera:{position:[3,.5,2],focus:[0,0,0]},profileColor:"#c4c4c4",author:"Name of person #3",comment:"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",thread:[]},{id:4,camera:{position:[-2,0,-3],focus:[0,0,0]},profileColor:"#c4c4c4",author:"Name of person #4",comment:"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.",thread:[]}],U=["#c4c4c4","#ff7a7a","#ffe279","#ffc37c"];m.a.render(l.a.createElement((function(){var e=Object(c.useState)({position:[-2,0,-3],focus:[0,0,0]}),t=Object(a.a)(e,2),n=t[0],u=t[1],m=Object(c.useState)(void 0),s=Object(a.a)(m,2),d=s[0],p=s[1],b=Object(c.useState)(void 0),f=Object(a.a)(b,2),O=f[0],j=f[1],v=Object(c.useState)(P),E=Object(a.a)(v,2),g=E[0],C=E[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(y,null),l.a.createElement("div",{id:"main-area"},l.a.createElement("div",{id:"variations-column"}),l.a.createElement(h,{id:"three-renderer",cameraPosition:n,onUpdate:function(){return u(null)},setCamera:function(e){return p(e)},setOrbitControls:function(e){return j(e)}}),l.a.createElement(D,{notes:g,onSubmitComment:function(e){return C(function(e,t,n,a){return[{id:1+Math.max.apply(Math,Object(r.a)(e.map((function(e){return e.id})))),camera:{position:t.position.toArray(),focus:n.target.toArray()},profileColor:U[Math.floor(Math.random()*U.length)],author:"Greg Gottesman",comment:a,thread:[]}].concat(Object(r.a)(e))}(g,d,O,e))},onSubmitReply:function(e,t){return C(function(e,t,n){return e.map((function(e){var a=e.thread,c=Object(i.a)(e,["thread"]);return c.id===t?Object(o.a)({},c,{thread:[].concat(Object(r.a)(a),[{id:1+Math.max.apply(Math,[t].concat(Object(r.a)(a.map((function(e){return e.id}))))),profileColor:c.profileColor,author:"Greg Gottesman",comment:n}])}):Object(o.a)({thread:a},c)}))}(g,e,t))},onSelect:function(e){return u(e)},onDeleteNote:function(e){return C(function(e,t){return t.filter((function(t){return t.id!==e})).map((function(t){var n=t.thread,a=Object(i.a)(t,["thread"]);return Object(o.a)({thread:n.filter((function(t){return t.id!==e}))},a)}))}(e,g))}})))}),null),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.277dd106.chunk.js.map