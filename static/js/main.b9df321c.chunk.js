(this.webpackJsonpcollab3d=this.webpackJsonpcollab3d||[]).push([[0],{29:function(e,t,n){e.exports=n(51)},37:function(e,t,n){},38:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var a=n(3),o=n(19),c=n(4),r=n(5),i=n(0),l=n.n(i),s=n(8),u=n.n(s),m=n(22),d=n(12),f=n(23),b=n(1);function p(e){var t=e.color,n=e.radius,a=e.position;Object(c.a)(e,["color","radius","position"]);return l.a.createElement("mesh",{visible:!0,position:a||new b.Vector3(0,0,0)},l.a.createElement("sphereGeometry",{attach:"geometry",args:[n,20,20]}),l.a.createElement("meshStandardMaterial",{attach:"material",color:t}))}function h(e){var t=e.setModelSize,n=Object(c.a)(e,["setModelSize"]),a=Object(d.c)(f.a,"models/gltf/sneaker3/scene.gltf");return Object(i.useEffect)((function(){var e=(new b.Box3).setFromObject(a.scene).max;t(e.length())}),[a,t]),l.a.createElement("primitive",Object.assign({object:a.scene,position:[0,0,0]},n))}function v(e){var t=e.cameraPosition,n=e.modelSize,a=e.controls,o=Object(c.a)(e,["cameraPosition","modelSize","controls"]);function s(e,t,n,a){var o,c;(o=n.position).set.apply(o,Object(r.a)(e)),(c=a.current.target).set.apply(c,Object(r.a)(t)),a.current.update()}var u=Object(d.d)(),m=u.camera,f=u.gl.domElement;return Object(i.useEffect)((function(){n&&s(new b.Vector3(1,.5,1).setLength(2*n).toArray(),[0,0,0],m,a)}),[m,n,a]),Object(i.useEffect)((function(){t&&s(t.position,t.focus,m,a)}),[m,t,a]),l.a.createElement("orbitControls",Object.assign({ref:a,args:[m,f]},o))}function g(e){var t=e.cameraPosition,n=e.notes,o=e.setCamera,r=e.setOrbitControls,s=Object(c.a)(e,["cameraPosition","notes","setCamera","setOrbitControls"]),u=Object(i.useState)(),m=Object(a.a)(u,2),f=m[0],g=m[1],E=Object(i.useRef)();return Object(i.useEffect)((function(){r(E.current)}),[E,r]),l.a.createElement(d.a,Object.assign({camera:{fov:60,near:1},onCreated:function(e){var t=e.gl,n=e.scene,a=e.camera;t.outputEncoding=b.sRGBEncoding,n.background=new b.Color(16448250),o(a)}},s),l.a.createElement(v,{cameraPosition:t,modelSize:f,controls:E,minDistance:1,maxDistance:f?5*f:50}),l.a.createElement("ambientLight",null),l.a.createElement(i.Suspense,{fallback:null},l.a.createElement(h,{setModelSize:g,onClick:function(e){e.point}})),n.map((function(e){var t=e.id,n=e.pin;return l.a.createElement(p,{key:t,color:n.color,radius:f?.02*f:.1,position:n.position})})))}Object(d.b)({OrbitControls:m.a});n(36),n(37);var E=n(6),O=n(28),j=n(11),S=n(9),w=n(10),y=(n(38),function(e){function t(){return Object(E.a)(this,t),Object(j.a)(this,Object(S.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"head"},l.a.createElement("div",{className:"greeting-row"},l.a.createElement("span",{className:"greeting"},"Welcome Username!")),l.a.createElement("div",{className:"button-row"},l.a.createElement("div",{className:"buttons"},l.a.createElement("button",{className:"share",onClick:function(){return alert("share link copied")}},l.a.createElement("span",{className:"textShare"},"Share")),l.a.createElement("button",{className:"AR",onClick:function(){return alert("more features to come")}},l.a.createElement("span",{className:"textAR"},"AR"))),l.a.createElement("img",{className:"profile",alt:"Greg",src:"https://assets.website-files.com/5d3152346d95065922960b3a/5db769036b1dff3418bffd20_Greg.jpg"})))}}]),t}(l.a.Component)),R=n(18),C=n.n(R);n(46);function N(e,t){var n=new Date(e.valueOf());return n.setDate(e.getDate()+t),n}function k(e){var t=e.selected,n=(e.white,e.pin),a=e.author,o=e.date,r=e.comment,i=e.thread,s=e.onResolve,u=e.onReply,m=e.showReply,d=void 0===m||m,f=Object(c.a)(e,["selected","white","pin","author","date","comment","thread","onResolve","onReply","showReply"]);return l.a.createElement("div",{className:"wrapper"},l.a.createElement("div",{className:t?"selected-bar":""}),l.a.createElement("div",Object.assign({className:"note"+(t?" selected":"")},f),l.a.createElement("div",{className:"note-content"+(t?" selected":"")},l.a.createElement("div",{className:"note-top-row"},l.a.createElement("img",{className:"pin-color",alt:"",style:{backgroundColor:n.color}}),l.a.createElement("div",{className:"note-top-column"},l.a.createElement("div",{className:"author-row"},l.a.createElement("div",{className:"author-name"},a),l.a.createElement("button",{className:"resolve"+(i?" main-comment":""),onClick:function(e){e.stopPropagation(),s()}},"Resolve")),l.a.createElement("div",{className:"note-date"},function(e){var t=new Date,n=new Date(e);return t.toDateString()===n.toDateString()?"".concat(n.toLocaleTimeString(navigator.language,{timeStyle:"short"})," Today"):t.toDateString()===N(n,1).toDateString()?"Yesterday":n.toLocaleDateString(navigator.language,{dateStyle:"medium"})}(o)))),l.a.createElement("p",{className:"comment"},r),d?l.a.createElement("div",{className:"reply-row"},l.a.createElement("button",{className:"reply-button",onClick:function(e){e.stopPropagation(),u()}},function(e){return e&&e.length>0?e.length>1?"".concat(e.length," Replies"):"1 Reply":"Reply"}(i))):null),f.children))}n(47);function D(e){var t=e.isModalOpen,n=e.onCancel,a=e.onResolve,o=Object(c.a)(e,["isModalOpen","onCancel","onResolve"]);return l.a.createElement("div",{id:"modal",className:t?"":"hide",onClick:n},l.a.createElement("div",Object.assign({id:"modal-dialog",onClick:function(e){return e.stopPropagation()}},o),l.a.createElement("span",{id:"modal-warning"},"Are you sure you want to resolve?"),l.a.createElement("div",{id:"modal-actions"},l.a.createElement("span",{id:"modal-cancel",onClick:function(e){e.stopPropagation(),n()}},"Cancel"),l.a.createElement("span",{id:"modal-submit",onClick:function(e){e.stopPropagation(),a()}},"Submit"))))}n(48);function M(e){var t=e.notes,n=e.onSubmitComment,o=e.onSelect,r=e.onDeselect,s=e.onResolveNote,u=e.onReplyNote,m=Object(c.a)(e,["notes","onSubmitComment","onSelect","onDeselect","onResolveNote","onReplyNote"]),d=Object(i.useState)(null),f=Object(a.a)(d,2),b=f[0],p=f[1],h=Object(i.useState)(null),v=Object(a.a)(h,2),g=v[0],E=v[1],O=Object(i.useState)(void 0),j=Object(a.a)(O,2),S=j[0],w=j[1];return l.a.createElement("div",Object.assign({id:"notes-column"},m),l.a.createElement("div",{id:"input-column"},l.a.createElement("span",{id:"input-label"},"Comments"),l.a.createElement(C.a,{id:"input-comment",placeholder:"Add a comment",value:S,onChange:function(e){return w(e.target.value)}}),l.a.createElement("div",{id:"input-actions"},l.a.createElement("button",{id:"input-cancel",className:S?"enabled":"",onClick:function(){return S&&w("")}},"Cancel"),l.a.createElement("button",{id:"input-submit",className:S?"enabled":"",onClick:function(){S&&(n(S),w(""))}},"Submit"))),l.a.createElement("div",{className:"scroll-column"},t.map((function(e,t){var n=e.id,a=e.camera,i=Object(c.a)(e,["id","camera"]);return l.a.createElement(k,Object.assign({key:n,selected:n===b,white:t%2===1,onClick:function(){b===n?(r(),p(null)):(o(a),p(n))},onResolve:function(){return E(n)},onReply:function(e){p(n),u(n,e)}},i))}))),l.a.createElement(D,{isModalOpen:g,onCancel:function(){return E(null)},onResolve:function(){s(g),E(null)}}))}n(49),n(50);function P(e){var t=e.note,n=e.onReturn,o=e.onSubmitReply,r=e.onResolveNote,s=Object(c.a)(e,["note","onReturn","onSubmitReply","onResolveNote"]),u=Object(i.useState)(void 0),m=Object(a.a)(u,2),d=m[0],f=m[1],b=Object(i.useState)(null),p=Object(a.a)(b,2),h=p[0],v=p[1];return t?l.a.createElement("div",Object.assign({id:"thread-column"},s),l.a.createElement("div",{id:"back-to-comments-row",onClick:function(){n(),f("")}},l.a.createElement("i",{id:"back-to-comments-icon",className:"material-icons"},"chevron_left"),"Back to all comments"),l.a.createElement(k,Object.assign({selected:!0,onResolve:function(){return v(t.id)},showReply:!1},t),l.a.createElement(C.a,{id:"reply-comment",placeholder:"Add a reply",autoFocus:!0,value:d,onChange:function(e){return f(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),o(t.id,d),f(""))}})),l.a.createElement("div",{className:"scroll-column"},t&&t.thread.map((function(e){return l.a.createElement(k,Object.assign({key:e.id,white:!0,onResolve:function(){return v(e.id)},showReply:!1},e))}))),l.a.createElement(D,{isModalOpen:h,onCancel:function(){return v(null)},onResolve:function(){r(h),v(null)}})):null}function G(e){var t=e.notes,n=e.onSelect,o=e.onDeselect,r=e.onSubmitComment,s=e.onSubmitReply,u=Object(c.a)(e,["notes","onSelect","onDeselect","onSubmitComment","onSubmitReply"]),m=Object(i.useState)(null),d=Object(a.a)(m,2),f=d[0],b=d[1];return f&&void 0===t.find((function(e){return e.id===f}))&&b(null),l.a.createElement("div",{id:"notes-row"},l.a.createElement(M,Object.assign({className:"main-thread"+(f?" main-thread-inactive":""),notes:t,onSelect:n,onDeselect:o,onSubmitComment:r,onReplyNote:function(e){n(t.find((function(t){return t.id===e})).camera),b(e)}},u)),l.a.createElement(P,Object.assign({className:"active-thread"+(f?"":" active-thread-inactive"),note:t.find((function(e){return e.id===f})),onReturn:function(){return b(null)},onSubmitReply:s},u)))}var A=[{id:1,camera:{position:[.3282675233596228,1.3130700934384911,1.9696051401577368],focus:[0,0,0]},pin:{color:"#ff7a7a",position:[.11407216428677569,-.03558226575391574,.3088370287923448]},author:"Greg Gottesman",date:(new Date).getTime(),comment:"This is great feature to add. But have we thought about how it will work with the new intiative rolling out?",thread:[]},{id:2,camera:{position:[1.3130700934384913,1.9696051401577368,.32826752335962284],focus:[0,0,0]},pin:{color:"#ffe279",position:[.8400521034159677,.2894499388169279,-.021046456389922318]},author:"Ed Lazowska",date:N(new Date,-1).getTime(),comment:"I disagree with the design choice here. I believe that weather resistant material would be better used here.",thread:[]},{id:3,camera:{position:[-2.1616768198406255,.7205589399468751,.7205589399468751],focus:[0,0,0]},pin:{color:"#ffc37c",position:[-.9929302640832274,-.23019978143549039,.08149487964996077]},author:'Dawy "The Boulder" Johnson',date:N(new Date,-2).getTime(),comment:"Have we thought about the cool factor associated with adding a flap here?  I\u2019ve seeing market research that it is popular with our target demo.",thread:[]}],T=["#c4c4c4","#ff7a7a","#ffe279","#ffc37c"];u.a.render(l.a.createElement((function(){var e=Object(i.useState)(void 0),t=Object(a.a)(e,2),n=t[0],s=t[1],u=Object(i.useState)(void 0),m=Object(a.a)(u,2),d=m[0],f=m[1],b=Object(i.useState)(void 0),p=Object(a.a)(b,2),h=p[0],v=p[1],E=Object(i.useState)(A),O=Object(a.a)(E,2),j=O[0],S=O[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(y,null),l.a.createElement("div",{id:"main-area"},l.a.createElement("div",{id:"variations-column"}),l.a.createElement(g,{id:"three-renderer",cameraPosition:n,notes:j,setCamera:function(e){return f(e)},setOrbitControls:function(e){return v(e)}}),l.a.createElement(G,{notes:j,onSubmitComment:function(e){return S(function(e,t,n,a){return[{id:1+Math.max.apply(Math,Object(r.a)(e.map((function(e){return e.id})))),camera:{position:t.position.toArray(),focus:n.target.toArray()},pin:{color:T[Math.floor(Math.random()*T.length)]},author:"Greg Gottesman",date:(new Date).getTime(),comment:a,thread:[]}].concat(Object(r.a)(e))}(j,d,h,e))},onSubmitReply:function(e,t){return S(function(e,t,n){return e.map((function(e){var a=e.thread,i=Object(c.a)(e,["thread"]);return i.id===t?Object(o.a)({},i,{thread:[{id:1+Math.max.apply(Math,[t].concat(Object(r.a)(a.map((function(e){return e.id}))))),pin:{color:i.pin.color},author:"Greg Gottesman",date:(new Date).getTime(),comment:n}].concat(Object(r.a)(a))}):Object(o.a)({thread:a},i)}))}(j,e,t))},onSelect:function(e){return s(e)},onDeselect:function(){return s(null)},onResolveNote:function(e){return S(function(e,t){return t.filter((function(t){return t.id!==e})).map((function(t){var n=t.thread,a=Object(c.a)(t,["thread"]);return Object(o.a)({thread:n.filter((function(t){return t.id!==e}))},a)}))}(e,j))}})))}),null),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.b9df321c.chunk.js.map