(this.webpackJsonpcollab3d=this.webpackJsonpcollab3d||[]).push([[0],{29:function(e,t,n){e.exports=n(51)},37:function(e,t,n){},38:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var a=n(3),o=n(19),r=n(4),c=n(5),i=n(1),l=n.n(i),u=n(9),s=n.n(u),m=n(0),d=n(22),p=n(8),f=n(23);function b(){var e=Object(p.d)(f.a,"models/gltf/microphone/scene.gltf");return l.a.createElement("primitive",{object:e.scene,position:[0,0,0]})}function h(e){var t=e.cameraPosition,n=e.onUpdate,o=e.setOrbitControls,u=Object(r.a)(e,["cameraPosition","onUpdate","setOrbitControls"]),s=Object(i.useState)(!0),m=Object(a.a)(s,2),d=m[0],f=m[1],b=Object(p.e)(),h=b.camera,O=b.gl.domElement,j=Object(i.useRef)();return Object(p.c)((function(e){var a,r,i=e.camera;(d&&(o(j.current),f(!1)),t)&&((a=i.position).set.apply(a,Object(c.a)(t.position)),i.lookAt(0,0,0),(r=j.current.target).set.apply(r,Object(c.a)(t.focus)),j.current.update(),n())})),l.a.createElement("orbitControls",Object.assign({ref:j,args:[h,O]},u))}function O(e){var t=e.cameraPosition,n=e.onUpdate,a=e.setCamera,o=e.setOrbitControls,c=Object(r.a)(e,["cameraPosition","onUpdate","setCamera","setOrbitControls"]);return l.a.createElement(p.a,Object.assign({camera:{fov:60,near:1,position:[-2,0,-3]},gl:{outputEncoding:m.sRGBEncoding},onCreated:function(e){var t=e.gl,n=e.scene,o=e.camera;t.outputEncoding=m.sRGBEncoding,n.background=new m.Color(16448250),o.lookAt(0,0,0),a(o)}},c),l.a.createElement(h,{cameraPosition:t,onUpdate:n,setOrbitControls:o,minDistance:1,maxDistance:50}),l.a.createElement("pointLight",{position:[10,10,10]}),l.a.createElement("pointLight",{position:[-10,-10,-10]}),l.a.createElement(i.Suspense,{fallback:null},l.a.createElement(b,null)))}Object(p.b)({OrbitControls:d.a});n(36),n(37);var j=n(6),v=n(28),E=n(12),g=n(10),C=n(11),y=(n(38),function(e){function t(){return Object(j.a)(this,t),Object(E.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,"I am a top bar. please fix me")}}]),t}(l.a.Component)),w=n(18),S=n.n(w);n(46);function k(e){var t=e.selected,n=e.white,a=e.author,o=e.comment,c=e.profileColor,i=e.thread,u=e.onDelete,s=e.onReply,m=e.showReply,d=void 0===m||m,p=Object(r.a)(e,["selected","white","author","comment","profileColor","thread","onDelete","onReply","showReply"]);return l.a.createElement("div",{className:"wrapper"},l.a.createElement("div",{className:t?"selected-bar":""}),l.a.createElement("div",Object.assign({className:"note"+(n?" white":"")},p),l.a.createElement("div",{className:"content-row"},l.a.createElement("div",{className:"profile-image",style:{backgroundColor:c}}),l.a.createElement("div",{className:"content-column"},l.a.createElement("div",{className:"author-row"},l.a.createElement("div",{className:"author-name"},a),l.a.createElement("i",{className:"close-button material-icons",onClick:function(e){e.stopPropagation(),u()}},"close")),l.a.createElement("div",{className:"comment"},o),p.children,d?l.a.createElement("div",{className:"reply"},l.a.createElement("span",{className:"reply-button",onClick:function(e){e.stopPropagation(),s()}},function(e){return e&&e.length>0?e.length>1?"".concat(e.length," Replies"):"1 Reply":"Reply"}(i))):null))))}n(47);function R(e){var t=e.isModalOpen,n=e.onCancel,a=e.onDelete,o=Object(r.a)(e,["isModalOpen","onCancel","onDelete"]);return l.a.createElement("div",{id:"modal",className:t?"":"hide",onClick:n},l.a.createElement("div",Object.assign({id:"modal-dialog",onClick:function(e){return e.stopPropagation()}},o),l.a.createElement("span",{id:"modal-warning"},"Are you sure you want to delete?"),l.a.createElement("div",{id:"modal-actions"},l.a.createElement("span",{id:"modal-cancel",onClick:function(e){e.stopPropagation(),n()}},"Cancel"),l.a.createElement("span",{id:"modal-delete",onClick:function(e){e.stopPropagation(),a()}},"Delete"))))}n(48);function N(e){var t=e.notes,n=e.onSubmitComment,o=e.onSelect,c=e.onDeleteNote,u=e.onReplyNote,s=Object(r.a)(e,["notes","onSubmitComment","onSelect","onDeleteNote","onReplyNote"]),m=Object(i.useState)(null),d=Object(a.a)(m,2),p=d[0],f=d[1],b=Object(i.useState)(null),h=Object(a.a)(b,2),O=h[0],j=h[1],v=Object(i.useState)(void 0),E=Object(a.a)(v,2),g=E[0],C=E[1];return l.a.createElement("div",Object.assign({id:"notes-column"},s),l.a.createElement("div",{id:"input-column"},l.a.createElement("span",{id:"input-label"},"Comments"),l.a.createElement(S.a,{id:"input-comment",placeholder:"Add a comment",value:g,onChange:function(e){return C(e.target.value)}}),l.a.createElement("div",{id:"input-actions"},l.a.createElement("span",{id:"input-cancel",onClick:function(){return C("")}},"Cancel"),l.a.createElement("span",{id:"input-submit",onClick:function(){n(g),C("")}},"Submit"))),t.map((function(e,t){var n=e.id,a=e.camera,c=Object(r.a)(e,["id","camera"]);return l.a.createElement(k,Object.assign({key:n,selected:n===p,white:t%2===1,onClick:function(){p===n?f(null):(o(a),f(n))},onDelete:function(){return j(n)},onReply:function(e){f(n),u(n,e)}},c))})),l.a.createElement(R,{isModalOpen:O,onCancel:function(){return j(null)},onDelete:function(){c(O),j(null)}}))}n(49),n(50);function D(e){var t=e.note,n=e.onReturn,o=e.onSubmitReply,c=e.onDeleteNote,u=Object(r.a)(e,["note","onReturn","onSubmitReply","onDeleteNote"]),s=Object(i.useState)(void 0),m=Object(a.a)(s,2),d=m[0],p=m[1],f=Object(i.useState)(null),b=Object(a.a)(f,2),h=b[0],O=b[1];return l.a.createElement("div",Object.assign({id:"thread-column"},u),l.a.createElement("div",{id:"back-to-comments-row",onClick:n},l.a.createElement("i",{className:"material-icons"},"chevron_left"),l.a.createElement("span",{id:"back-to-comments"},"Back to comments")),l.a.createElement(k,Object.assign({selected:!0,onDelete:function(){return O(t.id)},showReply:!1},t),l.a.createElement(S.a,{id:"reply-comment",placeholder:"Add a reply",value:d,onChange:function(e){return p(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&(e.preventDefault(),o(t.id,d),p(""))}})),t&&t.thread.map((function(e){return l.a.createElement(k,Object.assign({key:e.id,white:!0,onDelete:function(){return O(e.id)},showReply:!1},e))})),l.a.createElement(R,{isModalOpen:h,onCancel:function(){return O(null)},onDelete:function(){c(h),O(null)}}))}function P(e){var t=e.notes,n=e.onSelect,o=e.onSubmitComment,c=e.onSubmitReply,u=Object(r.a)(e,["notes","onSelect","onSubmitComment","onSubmitReply"]),s=Object(i.useState)(null),m=Object(a.a)(s,2),d=m[0],p=m[1],f=Object(i.useState)(null),b=Object(a.a)(f,2),h=b[0],O=b[1];return d&&void 0===t.find((function(e){return e.id===d}))&&p(null),l.a.createElement("div",{id:"notes-row"},l.a.createElement(N,Object.assign({className:"main-thread"+(d?" main-thread-inactive":""),notes:t,onSelect:n,onSubmitComment:o,onReplyNote:function(e){n(t.find((function(t){return t.id===e})).camera),p(e),O(e)}},u)),l.a.createElement(D,Object.assign({className:"active-thread"+(d?"":" active-thread-inactive"),note:t.find((function(e){return e.id===h})),onReturn:function(){return p(null)},onSubmitReply:c},u)))}var M=[{id:1,camera:{position:[.5,2,3],focus:[0,0,0]},profileColor:"#ff7a7a",author:"Greg Gottesman",comment:"This is great feature to add. But have we thought about how it will work with the new intiative rolling out?",thread:[]},{id:2,camera:{position:[2,3,.5],focus:[0,0,0]},profileColor:"#ffe279",author:"Ed Lazowska",comment:"I disagree with the design choice here. I believe that weather resistant material would be better used here.",thread:[]},{id:3,camera:{position:[3,.5,2],focus:[0,0,0]},profileColor:"#ffc37c",author:'Dawy "The Boulder" Johnson',comment:"Have we thought about the cool factor associated with adding a flap here?  I\u2019ve seeing market research that it is popular with our target demo.",thread:[]}],G=["#c4c4c4","#ff7a7a","#ffe279","#ffc37c"];s.a.render(l.a.createElement((function(){var e=Object(i.useState)({position:[-2,0,-3],focus:[0,0,0]}),t=Object(a.a)(e,2),n=t[0],u=t[1],s=Object(i.useState)(void 0),m=Object(a.a)(s,2),d=m[0],p=m[1],f=Object(i.useState)(void 0),b=Object(a.a)(f,2),h=b[0],j=b[1],v=Object(i.useState)(M),E=Object(a.a)(v,2),g=E[0],C=E[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(y,null),l.a.createElement("div",{id:"main-area"},l.a.createElement("div",{id:"variations-column"}),l.a.createElement(O,{id:"three-renderer",cameraPosition:n,onUpdate:function(){return u(null)},setCamera:function(e){return p(e)},setOrbitControls:function(e){return j(e)}}),l.a.createElement(P,{notes:g,onSubmitComment:function(e){return C(function(e,t,n,a){return[{id:1+Math.max.apply(Math,Object(c.a)(e.map((function(e){return e.id})))),camera:{position:t.position.toArray(),focus:n.target.toArray()},profileColor:G[Math.floor(Math.random()*G.length)],author:"Greg Gottesman",comment:a,thread:[]}].concat(Object(c.a)(e))}(g,d,h,e))},onSubmitReply:function(e,t){return C(function(e,t,n){return e.map((function(e){var a=e.thread,i=Object(r.a)(e,["thread"]);return i.id===t?Object(o.a)({},i,{thread:[].concat(Object(c.a)(a),[{id:1+Math.max.apply(Math,[t].concat(Object(c.a)(a.map((function(e){return e.id}))))),profileColor:i.profileColor,author:"Greg Gottesman",comment:n}])}):Object(o.a)({thread:a},i)}))}(g,e,t))},onSelect:function(e){return u(e)},onDeleteNote:function(e){return C(function(e,t){return t.filter((function(t){return t.id!==e})).map((function(t){var n=t.thread,a=Object(r.a)(t,["thread"]);return Object(o.a)({thread:n.filter((function(t){return t.id!==e}))},a)}))}(e,g))}})))}),null),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.b6e4c42e.chunk.js.map