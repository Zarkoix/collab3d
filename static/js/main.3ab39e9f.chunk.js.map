{"version":3,"sources":["ModelRenderer.js","Header/Header.js","Note/Note.js","ConfirmResolve/ConfirmResolve.js","NotesColumn/MainThread/MainThread.js","NotesColumn/Thread/Thread.js","NotesColumn/NotesColumn.js","index.js"],"names":["Model","setModelSize","props","gltf","useLoader","GLTFLoader","useEffect","mroot","scene","bbox","Box3","setFromObject","cent","getCenter","Vector3","size","getSize","maxAxis","Math","max","x","y","z","scale","multiplyScalar","position","copy","object","Pin","rotation","mesh","useRef","endVertex","clone","addScaledVector","points","push","pin","ref","attach","vertices","verticesNeedUpdate","color","visible","args","transparent","current","geometry","Controls","cameraPosition","modelSize","controls","updateCamera","target","camera","set","update","useThree","domElement","gl","setLength","toArray","focus","ModelRenderer","setCamera","setOrbitControls","useState","pinLocation","setPinLocation","pinRotation","setPinRotation","fov","near","onCreated","outputEncoding","sRGBEncoding","background","Color","minDistance","maxDistance","fallback","onPointerMove","e","point","face","normal","extend","OrbitControls","Header","className","onClick","alert","alt","src","React","Component","addDays","date","days","result","Date","valueOf","setDate","getDate","Note","selected","white","author","comment","thread","onResolve","onReply","showReply","style","backgroundColor","event","stopPropagation","dateInMillis","today","toDateString","toLocaleTimeString","navigator","language","timeStyle","toLocaleDateString","dateStyle","dateString","length","replyString","children","ConfirmResolve","isModalOpen","onCancel","id","MainThread","notes","onSubmitComment","onSelect","onDeselect","onResolveNote","onReplyNote","setSelected","resolveNoteId","setResolveNoteId","undefined","inputComment","setInputComment","placeholder","value","onChange","map","index","note","key","Thread","onReturn","onSubmitReply","replyComment","setReplyComment","deleteNoteId","setDeleteNoteId","autoFocus","onKeyPress","preventDefault","NotesColumn","activeThread","setActiveThread","find","NOTES","getTime","colors","ReactDOM","render","setCameraPosition","setControls","setNotes","floor","random","addComment","addReply","filter","deleteNote","document","getElementById"],"mappings":"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","file":"static/js/main.3ab39e9f.chunk.js","sourcesContent":["import React, { Suspense, useRef, useState, useEffect } from \"react\";\r\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls\";\r\nimport {\r\n  Canvas,\r\n  useThree,\r\n  extend,\r\n  useLoader,\r\n  useFrame\r\n} from \"react-three-fiber\";\r\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader\";\r\nimport { Box3, Vector3, Color, sRGBEncoding } from \"three\";\r\n\r\nextend({ OrbitControls });\r\n\r\nfunction Model({ setModelSize, ...props }) {\r\n  const gltf = useLoader(GLTFLoader, \"models/gltf/nike_shoe/scene.gltf\");\r\n\r\n  useEffect(() => {\r\n    //const maxVector = new Box3().setFromObject(gltf.scene).max;\r\n    //setModelSize(maxVector.length());\r\n\r\n    //Centering Object\r\n    var mroot = gltf.scene;\r\n    var bbox = new Box3().setFromObject(mroot);\r\n    var cent = bbox.getCenter(new Vector3());\r\n    var size = bbox.getSize(new Vector3());\r\n\r\n    //Rescale the object to normalized space\r\n    var maxAxis = Math.max(size.x, size.y, size.z);\r\n    mroot.scale.multiplyScalar(5.0 / maxAxis);\r\n    bbox.setFromObject(mroot);\r\n    bbox.getCenter(cent);\r\n    bbox.getSize(size);\r\n    mroot.position.copy(cent).multiplyScalar(-1);\r\n  }, [gltf, setModelSize]);\r\n\r\n  return <primitive object={gltf.scene} {...props} />;\r\n}\r\n\r\nfunction Pin({ position = [0, 0, 0], rotation = [0, 0, 0] }) {\r\n  const mesh = useRef();\r\n  position = new Vector3(...position);\r\n  rotation = new Vector3(...rotation);\r\n\r\n  let endVertex = position.clone();\r\n  endVertex.addScaledVector(rotation, 0.15); //length of pin\r\n\r\n  var points = [];\r\n  points.push(position);\r\n  points.push(endVertex);\r\n\r\n  var pin = (\r\n    <group>\r\n      <line ref={mesh}>\r\n        <geometry\r\n          attach=\"geometry\"\r\n          vertices={points}\r\n          verticesNeedUpdate={true}\r\n        />\r\n        <lineBasicMaterial attach=\"material\" color=\"#7B7B7B\" />\r\n      </line>\r\n\r\n      <mesh visible position={points[1]}>\r\n        <sphereGeometry attach=\"geometry\" args={[0.02, 16, 16]} />\r\n        <meshStandardMaterial attach=\"material\" color=\"red\" transparent />\r\n      </mesh>\r\n    </group>\r\n  );\r\n\r\n  useEffect(() => {\r\n    mesh.current.geometry.verticesNeedUpdate = true;\r\n  });\r\n  return pin;\r\n}\r\n\r\nfunction Controls({ cameraPosition, modelSize, controls, ...props }) {\r\n  function updateCamera(position, target, camera, controls) {\r\n    camera.position.set(...position);\r\n    controls.current.target.set(...target);\r\n    controls.current.update();\r\n  }\r\n\r\n  const {\r\n    camera,\r\n    gl: { domElement }\r\n  } = useThree();\r\n\r\n  useEffect(() => {\r\n    if (modelSize) {\r\n      updateCamera(\r\n        new Vector3(1, 0.5, 1).setLength(2 * modelSize).toArray(),\r\n        [0, 0, 0],\r\n        camera,\r\n        controls\r\n      );\r\n    }\r\n  }, [camera, modelSize, controls]);\r\n\r\n  useEffect(() => {\r\n    if (cameraPosition) {\r\n      updateCamera(\r\n        cameraPosition.position,\r\n        cameraPosition.focus,\r\n        camera,\r\n        controls\r\n      );\r\n    }\r\n  }, [camera, cameraPosition, controls]);\r\n\r\n  return (\r\n    <orbitControls ref={controls} args={[camera, domElement]} {...props} />\r\n  );\r\n}\r\n\r\nexport function ModelRenderer({\r\n  cameraPosition,\r\n  setCamera,\r\n  setOrbitControls,\r\n  ...props\r\n}) {\r\n  const [modelSize, setModelSize] = useState();\r\n  const [pinLocation, setPinLocation] = useState();\r\n  const [pinRotation, setPinRotation] = useState();\r\n\r\n  const controls = useRef();\r\n  useEffect(() => {\r\n    setOrbitControls(controls.current);\r\n  }, [controls, setOrbitControls]);\r\n\r\n  return (\r\n    <Canvas\r\n      camera={{ fov: 60, near: 0.1 }}\r\n      onCreated={({ gl, scene, camera }) => {\r\n        gl.outputEncoding = sRGBEncoding;\r\n        scene.background = new Color(0x5a5a5a);\r\n\r\n        setCamera(camera);\r\n      }}\r\n      {...props}\r\n    >\r\n      <Controls\r\n        cameraPosition={cameraPosition}\r\n        modelSize={modelSize}\r\n        controls={controls}\r\n        minDistance={1}\r\n        maxDistance={modelSize ? 5 * modelSize : 50}\r\n      />\r\n      <ambientLight />\r\n      <Suspense fallback={null}>\r\n        <Model\r\n          setModelSize={setModelSize}\r\n          onPointerMove={e =>\r\n            //console.log(e) ||\r\n            setPinLocation(e.point.toArray()) ||\r\n            setPinRotation(e.face.normal.toArray())\r\n          }\r\n        />\r\n        <Pin position={pinLocation} rotation={pinRotation} />\r\n      </Suspense>\r\n    </Canvas>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./Header.css\";\r\n\r\nclass Header extends React.Component {\r\n  render() {\r\n    return (\r\n      <div className=\"head\">\r\n        <div className=\"greeting-row\">\r\n          <span className=\"greeting\">Welcome Greg!</span>\r\n        </div>\r\n        <div className=\"button-row\">\r\n          <div className=\"buttons\">\r\n            <button\r\n              className=\"share\"\r\n              onClick={() => alert(\"share link copied\")}\r\n            >\r\n              <span className=\"textShare\">Share</span>\r\n            </button>\r\n            <button\r\n              className=\"AR\"\r\n              onClick={() => alert(\"more features to come\")}\r\n            >\r\n              <span className=\"textAR\">AR</span>\r\n            </button>\r\n          </div>\r\n          <img\r\n            className=\"profile\"\r\n            alt=\"Greg\"\r\n            src=\"https://assets.website-files.com/5d3152346d95065922960b3a/5db769036b1dff3418bffd20_Greg.jpg\"\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport \"./Note.css\";\r\n\r\nexport function addDays(date, days) {\r\n  const result = new Date(date.valueOf());\r\n  result.setDate(date.getDate() + days);\r\n  return result;\r\n}\r\n\r\nfunction dateString(dateInMillis) {\r\n  const today = new Date();\r\n  const date = new Date(dateInMillis);\r\n\r\n  if (today.toDateString() === date.toDateString()) {\r\n    return `${date.toLocaleTimeString(navigator.language, {\r\n      timeStyle: \"short\"\r\n    })} Today`;\r\n  } else if (today.toDateString() === addDays(date, 1).toDateString()) {\r\n    return \"Yesterday\";\r\n  } else {\r\n    return date.toLocaleDateString(navigator.language, { dateStyle: \"medium\" });\r\n  }\r\n}\r\n\r\nfunction replyString(thread) {\r\n  if (thread && thread.length > 0) {\r\n    if (thread.length > 1) {\r\n      return `${thread.length} Replies`;\r\n    } else {\r\n      return \"1 Reply\";\r\n    }\r\n  } else {\r\n    return \"Reply\";\r\n  }\r\n}\r\n\r\nexport function Note({\r\n  selected,\r\n  white,\r\n  pin,\r\n  author,\r\n  date,\r\n  comment,\r\n  thread,\r\n  onResolve,\r\n  onReply,\r\n  showReply = true,\r\n  ...props\r\n}) {\r\n  return (\r\n    <div className=\"wrapper\">\r\n      <div className={selected ? \"selected-bar\" : \"\"}></div>\r\n      <div className={\"note\" + (selected ? \" selected\" : \"\")} {...props}>\r\n        <div className={\"note-content\" + (selected ? \" selected\" : \"\")}>\r\n          <div className=\"note-top-row\">\r\n            <img\r\n              className=\"pin-color\"\r\n              alt=\"\"\r\n              style={{ backgroundColor: pin.color }}\r\n            />\r\n            <div className=\"note-top-column\">\r\n              <div className=\"author-row\">\r\n                <div className=\"author-name\">{author}</div>\r\n                <button\r\n                  className={\"resolve\" + (thread ? \" main-comment\" : \"\")}\r\n                  onClick={event => {\r\n                    event.stopPropagation();\r\n                    onResolve();\r\n                  }}\r\n                >\r\n                  Resolve\r\n                </button>\r\n              </div>\r\n              <div className=\"note-date\">{dateString(date)}</div>\r\n            </div>\r\n          </div>\r\n          <p className=\"comment\">{comment}</p>\r\n          {showReply ? (\r\n            <div className=\"reply-row\">\r\n              <button\r\n                className=\"reply-button\"\r\n                onClick={event => {\r\n                  event.stopPropagation();\r\n                  onReply();\r\n                }}\r\n              >\r\n                {replyString(thread)}\r\n              </button>\r\n            </div>\r\n          ) : null}\r\n        </div>\r\n        {props.children}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport \"./ConfirmResolve.css\";\r\n\r\nexport function ConfirmResolve({ isModalOpen, onCancel, onResolve, ...props }) {\r\n  return (\r\n    <div id=\"modal\" className={isModalOpen ? \"\" : \"hide\"} onClick={onCancel}>\r\n      <div\r\n        id=\"modal-dialog\"\r\n        onClick={event => event.stopPropagation()}\r\n        {...props}\r\n      >\r\n        <span id=\"modal-warning\">Are you sure you want to resolve?</span>\r\n        <div id=\"modal-actions\">\r\n          <span\r\n            id=\"modal-cancel\"\r\n            onClick={event => {\r\n              event.stopPropagation();\r\n              onCancel();\r\n            }}\r\n          >\r\n            Cancel\r\n          </span>\r\n          <span\r\n            id=\"modal-submit\"\r\n            onClick={event => {\r\n              event.stopPropagation();\r\n              onResolve();\r\n            }}\r\n          >\r\n            Submit\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport TextareaAutosize from \"react-autosize-textarea/lib\";\r\nimport { Note } from \"../../Note/Note\";\r\nimport { ConfirmResolve } from \"../../ConfirmResolve/ConfirmResolve\";\r\nimport \"./MainThread.css\";\r\n\r\nexport function MainThread({\r\n  notes,\r\n  onSubmitComment,\r\n  onSelect,\r\n  onDeselect,\r\n  onResolveNote,\r\n  onReplyNote,\r\n  ...props\r\n}) {\r\n  const [selected, setSelected] = useState(null);\r\n  const [resolveNoteId, setResolveNoteId] = useState(null);\r\n  const [inputComment, setInputComment] = useState(undefined);\r\n\r\n  return (\r\n    <div id=\"notes-column\" {...props}>\r\n      <div id=\"input-column\">\r\n        <span id=\"input-label\">Comments</span>\r\n        <TextareaAutosize\r\n          id=\"input-comment\"\r\n          placeholder=\"Add a comment\"\r\n          value={inputComment}\r\n          onChange={event => setInputComment(event.target.value)}\r\n        />\r\n        <div id=\"input-actions\">\r\n          <button\r\n            id=\"input-cancel\"\r\n            className={inputComment ? \"enabled\" : \"\"}\r\n            onClick={() => inputComment && setInputComment(\"\")}\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            id=\"input-submit\"\r\n            className={inputComment ? \"enabled\" : \"\"}\r\n            onClick={() => {\r\n              if (inputComment) {\r\n                onSubmitComment(inputComment);\r\n                setInputComment(\"\");\r\n              }\r\n            }}\r\n          >\r\n            Submit\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <div className=\"scroll-column\">\r\n        {notes.map(({ id, camera, ...note }, index) => (\r\n          <Note\r\n            key={id}\r\n            selected={id === selected}\r\n            white={index % 2 === 1}\r\n            onClick={() => {\r\n              if (selected === id) {\r\n                onDeselect();\r\n                setSelected(null);\r\n              } else {\r\n                onSelect(camera);\r\n                setSelected(id);\r\n              }\r\n            }}\r\n            onResolve={() => setResolveNoteId(id)}\r\n            onReply={comment => {\r\n              setSelected(id);\r\n              onReplyNote(id, comment);\r\n            }}\r\n            {...note}\r\n          ></Note>\r\n        ))}\r\n      </div>\r\n      <ConfirmResolve\r\n        isModalOpen={resolveNoteId}\r\n        onCancel={() => setResolveNoteId(null)}\r\n        onResolve={() => {\r\n          onResolveNote(resolveNoteId);\r\n          setResolveNoteId(null);\r\n        }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport \"./Thread.css\";\r\nimport { Note } from \"../../Note/Note\";\r\nimport TextareaAutosize from \"react-autosize-textarea/lib\";\r\nimport { ConfirmResolve } from \"../../ConfirmResolve/ConfirmResolve\";\r\n\r\nexport function Thread({\r\n  note,\r\n  onReturn,\r\n  onSubmitReply,\r\n  onResolveNote,\r\n  ...props\r\n}) {\r\n  const [replyComment, setReplyComment] = useState(undefined);\r\n  const [deleteNoteId, setDeleteNoteId] = useState(null);\r\n\r\n  return note ? (\r\n    <div id=\"thread-column\" {...props}>\r\n      <div\r\n        id=\"back-to-comments-row\"\r\n        onClick={() => {\r\n          onReturn();\r\n          setReplyComment(\"\");\r\n        }}\r\n      >\r\n        <i id=\"back-to-comments-icon\" className=\"material-icons\">\r\n          chevron_left\r\n        </i>\r\n        Back to all comments\r\n      </div>\r\n      <Note\r\n        selected\r\n        onResolve={() => setDeleteNoteId(note.id)}\r\n        showReply={false}\r\n        {...note}\r\n      >\r\n        <TextareaAutosize\r\n          id=\"reply-comment\"\r\n          placeholder=\"Add a reply\"\r\n          autoFocus\r\n          value={replyComment}\r\n          onChange={event => setReplyComment(event.target.value)}\r\n          onKeyPress={event => {\r\n            if (event.key === \"Enter\") {\r\n              event.preventDefault();\r\n              onSubmitReply(note.id, replyComment);\r\n              setReplyComment(\"\");\r\n            }\r\n          }}\r\n        />\r\n      </Note>\r\n      <div className=\"scroll-column\">\r\n        {note &&\r\n          note.thread.map(note => (\r\n            <Note\r\n              key={note.id}\r\n              white\r\n              onResolve={() => setDeleteNoteId(note.id)}\r\n              showReply={false}\r\n              {...note}\r\n            />\r\n          ))}\r\n      </div>\r\n      <ConfirmResolve\r\n        isModalOpen={deleteNoteId}\r\n        onCancel={() => setDeleteNoteId(null)}\r\n        onResolve={() => {\r\n          onResolveNote(deleteNoteId);\r\n          setDeleteNoteId(null);\r\n        }}\r\n      />\r\n    </div>\r\n  ) : null;\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { MainThread } from \"./MainThread/MainThread\";\r\nimport \"./NotesColumn.css\";\r\nimport { Thread } from \"./Thread/Thread\";\r\n\r\nexport function NotesColumn({\r\n  notes,\r\n  onSelect,\r\n  onDeselect,\r\n  onSubmitComment,\r\n  onSubmitReply,\r\n  ...props\r\n}) {\r\n  const [activeThread, setActiveThread] = useState(null);\r\n\r\n  if (\r\n    activeThread &&\r\n    notes.find(({ id }) => id === activeThread) === undefined\r\n  ) {\r\n    setActiveThread(null);\r\n  }\r\n\r\n  return (\r\n    <div id=\"notes-row\">\r\n      <MainThread\r\n        className={\r\n          \"main-thread\" + (activeThread ? \" main-thread-inactive\" : \"\")\r\n        }\r\n        notes={notes}\r\n        onSelect={onSelect}\r\n        onDeselect={onDeselect}\r\n        onSubmitComment={onSubmitComment}\r\n        onReplyNote={id => {\r\n          onSelect(notes.find(note => note.id === id).camera);\r\n          setActiveThread(id);\r\n        }}\r\n        {...props}\r\n      />\r\n      <Thread\r\n        className={\r\n          \"active-thread\" + (!activeThread ? \" active-thread-inactive\" : \"\")\r\n        }\r\n        note={notes.find(note => note.id === activeThread)}\r\n        onReturn={() => setActiveThread(null)}\r\n        onSubmitReply={onSubmitReply}\r\n        {...props}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { ModelRenderer } from \"./ModelRenderer\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"./index.css\";\r\nimport Header from \"./Header/Header\";\r\nimport { NotesColumn } from \"./NotesColumn/NotesColumn\";\r\nimport { addDays } from \"./Note/Note\";\r\n\r\nconst NOTES = [\r\n  {\r\n    id: 1,\r\n    camera: {\r\n      position: [3.6724893617668513, 0.10448181831762553, -0.10443959458119491],\r\n      focus: [0, 0, 0]\r\n    },\r\n    pin: {\r\n      color: \"#ff7a7a\"\r\n    },\r\n    author: \"Palvi Mehta\",\r\n    date: new Date().getTime(),\r\n    comment:\r\n      \"I dont like how the openings end before the bottom of the black canvas, what can we do about this?\",\r\n    thread: []\r\n  },\r\n  {\r\n    id: 2,\r\n    camera: {\r\n      position: [-0.2391278466290959, 0.2413250726086689, 1.7599386342780603],\r\n      focus: [0, 0, 0]\r\n    },\r\n    pin: {\r\n      color: \"#ffe279\"\r\n    },\r\n    author: \"Ed Lazowska\",\r\n    date: addDays(new Date(), -1).getTime(),\r\n    comment:\r\n      \"I'm really proud of the lacing design here, do we think it will be too complicated?\",\r\n    thread: []\r\n  },\r\n  {\r\n    id: 3,\r\n    camera: {\r\n      position: [\r\n        1.2556252511652628,\r\n        -1.8845128318655633,\r\n        -0.006335531414734807\r\n      ],\r\n      focus: [1.2637327202535016, 0, -0.09982552431336995]\r\n    },\r\n    pin: {\r\n      color: \"#ffc37c\"\r\n    },\r\n    author: \" Kabir Shahani\",\r\n    date: addDays(new Date(), -2).getTime(),\r\n    comment:\r\n      \"I love the differnent fonts, but make the nike and zoom closer together in size\",\r\n    thread: []\r\n  }\r\n];\r\n\r\nconst colors = [\"#c4c4c4\", \"#ff7a7a\", \"#ffe279\", \"#ffc37c\"];\r\n\r\nconst addComment = (notes, camera, controls, comment) => [\r\n  {\r\n    id: 1 + Math.max(...notes.map(({ id }) => id)),\r\n    camera: {\r\n      position: camera.position.toArray(),\r\n      focus: controls.target.toArray()\r\n    },\r\n    pin: { color: colors[Math.floor(Math.random() * colors.length)] },\r\n    author: \"Greg Gottesman\",\r\n    date: new Date().getTime(),\r\n    comment: comment,\r\n    thread: []\r\n  },\r\n  ...notes\r\n];\r\n\r\nconst addReply = (notes, id, comment) =>\r\n  notes.map(({ thread, ...note }) =>\r\n    note.id === id\r\n      ? {\r\n          ...note,\r\n          thread: [\r\n            {\r\n              id: 1 + Math.max(id, ...thread.map(({ id }) => id)),\r\n              pin: { color: note.pin.color },\r\n              author: \"Greg Gottesman\",\r\n              date: new Date().getTime(),\r\n              comment: comment\r\n            },\r\n            ...thread\r\n          ]\r\n        }\r\n      : { thread, ...note }\r\n  );\r\n\r\nconst deleteNote = (id, notes) =>\r\n  notes\r\n    .filter(note => note.id !== id)\r\n    .map(({ thread, ...note }) => ({\r\n      thread: thread.filter(note => note.id !== id),\r\n      ...note\r\n    }));\r\n\r\nfunction MainPage() {\r\n  const [cameraPosition, setCameraPosition] = useState(undefined);\r\n  const [camera, setCamera] = useState(undefined);\r\n  const [controls, setControls] = useState(undefined);\r\n  const [notes, setNotes] = useState(NOTES);\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <div id=\"main-area\">\r\n        <div id=\"variations-column\"></div>\r\n        <ModelRenderer\r\n          id=\"three-renderer\"\r\n          cameraPosition={cameraPosition}\r\n          setCamera={camera => setCamera(camera)}\r\n          setOrbitControls={controls => setControls(controls)}\r\n        />\r\n        <NotesColumn\r\n          notes={notes}\r\n          onSubmitComment={comment =>\r\n            setNotes(addComment(notes, camera, controls, comment))\r\n          }\r\n          onSubmitReply={(id, comment) =>\r\n            setNotes(addReply(notes, id, comment))\r\n          }\r\n          onSelect={cameraPosition => setCameraPosition(cameraPosition)}\r\n          onDeselect={() => setCameraPosition(null)}\r\n          onResolveNote={id => setNotes(deleteNote(id, notes))}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nReactDOM.render(<MainPage />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}