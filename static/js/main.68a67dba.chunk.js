(this.webpackJsonpcollab3d=this.webpackJsonpcollab3d||[]).push([[0],{28:function(e,t,a){e.exports=a(48)},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(4),o=a(3),c=a(1),r=a.n(c),i=a(9),l=a.n(i),s=a(5),u=a(0),m=a(20),d=a(8),p=a(21);function f(){var e=Object(d.d)(p.a,"models/gltf/microphone/scene.gltf");return r.a.createElement("primitive",{object:e.scene,position:[0,0,0]})}function b(e){var t=e.cameraPosition,a=e.onUpdate,i=e.setOrbitControls,l=Object(s.a)(e,["cameraPosition","onUpdate","setOrbitControls"]),u=Object(c.useState)(!0),m=Object(o.a)(u,2),p=m[0],f=m[1],b=Object(d.e)(),h=b.camera,E=b.gl.domElement,O=Object(c.useRef)();return Object(d.c)((function(e){var o,c,r=e.camera;(p&&(i(O.current),f(!1)),t)&&((o=r.position).set.apply(o,Object(n.a)(t.position)),r.lookAt(0,0,0),(c=O.current.target).set.apply(c,Object(n.a)(t.focus)),O.current.update(),a())})),r.a.createElement("orbitControls",Object.assign({ref:O,args:[h,E]},l))}function h(e){var t=e.cameraPosition,a=(e.notes,e.onUpdate),n=e.setCamera,o=e.setOrbitControls,i=Object(s.a)(e,["cameraPosition","notes","onUpdate","setCamera","setOrbitControls"]);return r.a.createElement(d.a,Object.assign({camera:{fov:60,near:1,position:[-2,0,-3]},gl:{outputEncoding:u.sRGBEncoding},onCreated:function(e){var t=e.gl,a=e.scene,o=e.camera;t.outputEncoding=u.sRGBEncoding,a.background=new u.Color(16448250),o.lookAt(0,0,0),n(o)}},i),r.a.createElement(b,{cameraPosition:t,onUpdate:a,setOrbitControls:o,minDistance:1,maxDistance:50}),r.a.createElement("pointLight",{position:[10,10,10]}),r.a.createElement("pointLight",{position:[-10,-10,-10]}),r.a.createElement(c.Suspense,{fallback:null},r.a.createElement(f,null)))}Object(d.b)({OrbitControls:m.a});a(35),a(36);var E=a(6),O=a(26),v=a(12),g=a(10),j=a(11),C=(a(37),function(e){function t(){return Object(E.a)(this,t),Object(v.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(j.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"I am a top bar. please fix me")}}]),t}(r.a.Component));a(38),a(39);function w(e){var t=e.selected,a=e.white,n=e.author,o=e.comment,c=e.profileColor,i=e.onDelete,l=Object(s.a)(e,["selected","white","author","comment","profileColor","onDelete"]);return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:t?"selected-bar":""}),r.a.createElement("div",Object.assign({className:"note"+(a?" white":"")},l),r.a.createElement("div",{className:"content-row"},r.a.createElement("div",{className:"profile-image",style:{backgroundColor:c}}),r.a.createElement("div",{className:"content-column"},r.a.createElement("div",{className:"author-row"},r.a.createElement("div",{className:"author-name"},n),r.a.createElement("i",{className:"close-button material-icons",onClick:function(e){e.stopPropagation(),i()}},"close")),r.a.createElement("div",{className:"comment"},o),r.a.createElement("div",{className:"reply"},r.a.createElement("span",{className:"reply-button"},"Reply"))))))}a(40);function k(e){var t=e.isModalOpen,a=e.onCancel,n=e.onDelete,o=Object(s.a)(e,["isModalOpen","onCancel","onDelete"]);return r.a.createElement("div",{id:"modal",style:{display:t?"block":"none"},onClick:a},r.a.createElement("div",Object.assign({id:"modal-dialog"},o),r.a.createElement("span",{id:"modal-warning"},"Are you sure you want to delete?"),r.a.createElement("div",{id:"modal-actions"},r.a.createElement("span",{id:"modal-cancel",onClick:function(e){e.stopPropagation(),a()}},"Cancel"),r.a.createElement("span",{id:"modal-delete",onClick:function(e){e.stopPropagation(),n()}},"Delete"))))}var y=a(27),N=a.n(y);function S(e){var t=e.notes,a=e.onSelect,n=e.onSubmitComment,i=e.onDeleteNote,l=Object(c.useState)(null),u=Object(o.a)(l,2),m=u[0],d=u[1],p=Object(c.useState)(null),f=Object(o.a)(p,2),b=f[0],h=f[1],E=Object(c.useState)(void 0),O=Object(o.a)(E,2),v=O[0],g=O[1];return r.a.createElement("div",{id:"notes-column"},r.a.createElement("div",{id:"input-column"},r.a.createElement("span",{id:"input-label"},"Comments"),r.a.createElement(N.a,{id:"input-comment",placeholder:"Add a comment",value:v,onChange:function(e){return g(e.target.value)}}),r.a.createElement("div",{id:"input-actions"},r.a.createElement("span",{id:"input-cancel",onClick:function(){return g("")}},"Cancel"),r.a.createElement("span",{id:"input-submit",onClick:function(){n(v),g("")}},"Submit"))),t.map((function(e,t){var n=e.id,o=e.camera,c=Object(s.a)(e,["id","camera"]);return r.a.createElement(w,Object.assign({key:n,selected:n===m,white:t%2===1,onClick:function(){m===n?d(null):(a(o),d(n))},onDelete:function(){return h(n)}},c))})),r.a.createElement(k,{isModalOpen:b,onCancel:function(){return h(null)},onDelete:function(){i(b),h(null)}}))}var D=[{id:1,camera:{position:[.5,2,3],focus:[0,0,0]},profileColor:"#ff7a7a",author:"Greg Gottesman",comment:"This is great feature to add. But have we thought about how it will work with the new intiative rolling out?"},{id:2,camera:{position:[2,3,.5],focus:[0,0,0]},profileColor:"#ffe279",author:"Ed Lazowska",comment:"I disagree with the design choice here. I believe that weather resistant material would be better used here."},{id:3,camera:{position:[3,.5,2],focus:[0,0,0]},profileColor:"#ffc37c",author:'Dawy "The Boulder" Johnson',comment:"Have we thought about the cool factor associated with adding a flap here?  I\u2019ve seeing market research that it is popular with our target demo."}],P=["#c4c4c4","#ff7a7a","#ffe279","#ffc37c"];l.a.render(r.a.createElement((function(){var e=Object(c.useState)({position:[-2,0,-3],focus:[0,0,0]}),t=Object(o.a)(e,2),a=t[0],i=t[1],l=Object(c.useState)(void 0),s=Object(o.a)(l,2),u=s[0],m=s[1],d=Object(c.useState)(void 0),p=Object(o.a)(d,2),f=p[0],b=p[1],E=Object(c.useState)(D),O=Object(o.a)(E,2),v=O[0],g=O[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,null),r.a.createElement("div",{id:"main-area"},r.a.createElement("div",{id:"variations-column"}),r.a.createElement(h,{id:"three-renderer",cameraPosition:a,notes:[],onUpdate:function(){return i(null)},setCamera:function(e){return m(e)},setOrbitControls:function(e){return b(e)}}),r.a.createElement(S,{notes:v,onSubmitComment:function(e){g([{id:1+Math.max.apply(Math,Object(n.a)(v.map((function(e){return e.id})))),camera:{position:u.position.toArray(),focus:f.target.toArray()},profileColor:P[Math.floor(Math.random()*P.length)],author:"Greg Gottesman",comment:e}].concat(Object(n.a)(v)))},onSelect:function(e){return i(e)},onDeleteNote:function(e){return g(v.filter((function(t){return t.id!==e})))}})))}),null),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.68a67dba.chunk.js.map